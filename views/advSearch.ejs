<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Search</title>
    <link rel="stylesheet" href="styles/advSearch.css">
    <link rel="stylesheet" href="styles/nav.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="/styles/custom.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="/vendor/jquery-3.0.0.js"></script>
    <script defer src="/scripts/app.js"></script>
</head>
<body>
    <%- include('partials/_nav') %>
<div class="adv-search">
    <div class="container mt-4">
        <h2>Advanced Search</h2>
        <form action="/advsearch" method="post" onsubmit=return validatePriceRange()">
            <div class="form-group">
                <label for="category">Category:</label>
                <select id="category" name="category" class="form-control">
                    <option value="Electronics">Electronics</option>
                    <option value="Clothing">Clothing</option>
                    <option value="Furniture">Furniture</option>
                    <!-- Add more categories as required -->
                </select>
            </div>

            <div class="form-group">
                <label for="itemName">Item Name:</label>
                <input type="text" id="itemName" name="itemName" class="form-control">
            </div>

            <div class="form-group">
                <label for="descriptionWord">Description Contains:</label>
                <input type="text" id="descriptionWord" name="descriptionWord" class="form-control" placeholder="Search word in description">
            </div>

            <div class="form-group">
                <label for="priceRange">Price Range:</label>
                <div class="d-flex justify-content-between">
                    <input type="number" id="minPrice" name="minPrice" class="form-control" placeholder="Min Price" step="0.01">
                    <span class="mx-2">to</span>
                    <input type="number" id="maxPrice" name="maxPrice" class="form-control" placeholder="Max Price" step="0.01">
                </div>
            </div>

            <input type="submit" value="Search" class="btn btn-primary">
        </form>
    </div>
  </div>

<script>
    document.querySelector("form").addEventListener("submit", function(event) {
        const minPrice = parseFloat(document.getElementById("minPrice").value) || 0; // if no value, consider it 0
        const maxPrice = parseFloat(document.getElementById("maxPrice").value) || Infinity; // if no value, consider it Infinite

        if (maxPrice < minPrice) {
            alert("Max Price cannot be less than Min Price!");
            event.preventDefault(); // Prevent form submission
        }
    });
</script>
</body>
</html>
